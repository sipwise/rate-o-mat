{
  "comments": [
    {
      "key": {
        "uuid": "9a6a9dd7_eb936ba1",
        "filename": "rate-o-mat.pl",
        "patchSetId": 6
      },
      "lineNbr": 1850,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2016-02-12T14:46:21Z",
      "side": 1,
      "message": "COUNT() can be quite a slow operation on innodb, especially on large tables. Since this is an exception case, IMO a better approach would be to just run the select with a LIMIT, then see if the limit was hit and fallback to per-call select method if it was.",
      "revId": "b1e6cb9cc30414ef83a510ea0000180c6308fad3",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dad5f5cf_3fda2979",
        "filename": "rate-o-mat.pl",
        "patchSetId": 6
      },
      "lineNbr": 1850,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2016-03-29T09:51:54Z",
      "side": 1,
      "message": "good point, using SELECT count(*) FROM (SELECT id FROM prepaid_costs LIMIT \" . $prepaid_costs_cache_limit . \") AS cnt to be save here.",
      "parentUuid": "9a6a9dd7_eb936ba1",
      "revId": "b1e6cb9cc30414ef83a510ea0000180c6308fad3",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dad5f5cf_5fe84d7c",
        "filename": "rate-o-mat.pl",
        "patchSetId": 6
      },
      "lineNbr": 1850,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2016-03-29T13:01:32Z",
      "side": 1,
      "message": "Please avoid using count(*) everywhere, literally. It is a pure evil for the mysql optimiser, count by a named column, the primary key ideally or in this case by the virtual one. \nI know it does not affect performance of this specific case but I am in general as it is easy to make a mistake like select count(*) from cdr where ... compared to select count(id) from cdr where ...",
      "parentUuid": "dad5f5cf_3fda2979",
      "revId": "b1e6cb9cc30414ef83a510ea0000180c6308fad3",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}